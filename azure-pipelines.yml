# Trigger the pipeline when changes are pushed to the 'main' branch
trigger:
- main

# Define the pool to use an Ubuntu agent for the build
pool:
  vmImage: 'ubuntu-latest'

# Define the steps of the pipeline
steps:
  # Step 1: Archive the files (your static HTML project) for build
  - task: ArchiveFiles@2
    inputs:
      rootFolderOrFile: '$(Build.SourcesDirectory)'  # Directory where your source code is
      includeRootFolder: false
      archiveType: 'zip'  # Archive files as a .zip
      archiveFile: '$(Build.ArtifactStagingDirectory)/html-site.zip'  # Location of the archive

  # Step 2: Publish build artifacts (the zipped HTML project) to be used for deployment
  - task: PublishBuildArtifacts@1
    inputs:
      PathtoPublish: '$(Build.ArtifactStagingDirectory)'  # Location of the zip file created in the previous step
      ArtifactName: 'html-artifact'  # Name of the artifact
      publishLocation: 'Container'  # Publish the artifact to Azure DevOps

  # Optional: You can add further steps like running tests, linting, or deployment tasks here.
  # For example, if you're deploying to an Azure App Service, you can use the AzureWebApp task.
